# [Gold II] 이진 탐색 트리 복원하기 - 18240 

[문제 링크](https://www.acmicpc.net/problem/18240) 

### 성능 요약

메모리: 49960 KB, 시간: 248 ms

### 분류

구성적, 그래프 이론, 그래프 탐색, 트리

### 문제 설명

<p><strong>이진 트리</strong>란 각각의 노드가 0, 1, 2개의 자식 노드를 가지는 트리 자료 구조이다.</p>

<p><strong>이진 탐색 트리</strong>란 각 노드의 왼쪽 서브트리(subtree)는 그 노드의 값보다 작은 노드 값들로, 오른쪽 서브트리(subtree)는 그 노드의 값보다 큰 노드 값들로 이루어져 있는 이진 트리를 말한다.</p>

<p>아래의 그림은 1부터 9까지의 수를 값으로 지닌 노드로 이루어져 있는 이진 탐색 트리의 예시이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/806b4304-904e-4797-8db3-acf5261bc60c/-/crop/944x546/0,0/-/preview/" style="width: 519px; height: 300px;"></p>

<p>또한, 이진 탐색 트리에 새로운 노드를 삽입하는 과정은 다음과 같다.</p>

<p>루트 노드부터 탐색하여 Insert 하는 값이 현재 노드의 값보다 크면 오른쪽 자식 노드를 방문, 작으면 왼쪽 자식 노드을 방문하는 것을 반복하다가 비어있는 자리에 해당하는 값을 가진 노드를 삽입한다.</p>

<p>아래는 값이 4인 노드를 루트로 하는 트리에 [2, 3, 5, 1]를 순차적으로 삽입하는 예시이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/2843b4f1-ebdc-4746-80d3-f7d7a90e8ba4/-/crop/1594x387/0,17/-/preview/" style="width: 824px; height: 200px;"></p>

<p>1부터 N까지의 모든 정수를 한 번씩 포함하고 있는 수열 A<sub>1</sub>, A<sub>2</sub>, ..., A<sub>N</sub>이 있다.</p>

<p>값이 A<sub>1</sub>인 노드를 루트로 하는 트리에 A<sub>2</sub>, A<sub>3</sub><sub>,</sub> ..., A<sub>N </sub>을 순서대로 삽입하려 한다.</p>

<p>N-1개의 노드를 삽입할 때마다 루트에서 그 노드에 도달하기 위해 거쳐야 하는 간선의 수, 즉 노드의 깊이가 주어질 때 A<sub>1</sub>, A<sub>2</sub>, ..., A<sub>N</sub>을 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 수열의 길이 N이 주어진다. (2 ≤ N ≤ 300,000)</p>

<p>둘째 줄에는 A<sub>2</sub>부터 A<sub>N</sub>을 순서대로 삽입할 때마다 삽입된 노드의 깊이가 공백으로 구분하여 주어진다.</p>

<p>이때 노드의 깊이는 1이상 N미만의 자연수이다.</p>

### 출력 

 <p>가능한 수열이 있다면 첫째 줄에 수열 A<sub>1</sub>, A<sub>2</sub>, ..., A<sub>N</sub>의 값을 공백으로 구분하여 출력한다.</p>

<p>가능한 수열이 여러 개라면 아무거나 출력해도 좋다.</p>

<p>가능한 수열이 없다면 첫째 줄에 -1을 출력한다.</p>

